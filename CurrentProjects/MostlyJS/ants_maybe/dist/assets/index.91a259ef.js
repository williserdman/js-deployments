var I=Object.defineProperty;var w=(o,t,i)=>t in o?I(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i;var r=(o,t,i)=>(w(o,typeof t!="symbol"?t+"":t,i),i),P=(o,t,i)=>{if(!t.has(o))throw TypeError("Cannot "+i)};var d=(o,t,i)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,i)};var c=(o,t,i)=>(P(o,t,"access private method"),i);const E=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}};E();var p,x,M,D,f,S,u,_;class A{constructor(t){d(this,p);d(this,M);d(this,f);d(this,u);r(this,"ANT_WIDTH",4);r(this,"ANT_HEIGHT",4);r(this,"WANDER_AMM",0);r(this,"MAX_SPEED",2);r(this,"SLIME",1);this.position={x:t.x,y:t.y},this.direction=Math.random()*2*Math.PI-Math.PI,this.speed={x:0,y:0}}update(t){c(this,M,D).call(this,t),this.position.x+=this.speed.x,this.position.y+=this.speed.y,this.position.x<0&&(this.position.x=0,this.direction=Math.random()*2*Math.PI-Math.PI),this.position.x>window.innerWidth&&(this.position.x=window.innerWidth,this.direction=Math.random()*2*Math.PI-Math.PI),this.position.y<0&&(this.position.y=0,this.direction=Math.random()*2*Math.PI-Math.PI),this.position.y>window.innerHeight&&(this.position.y=window.innerHeight,this.direction=Math.random()*2*Math.PI-Math.PI),c(this,p,x).call(this,t)}}p=new WeakSet,x=function(t){t.fillStyle="cyan",t.fillRect(this.position.x,this.position.y,this.ANT_WIDTH,this.ANT_HEIGHT)},M=new WeakSet,D=function(t){const i=Math.random()*2*Math.PI-Math.PI;this.direction=this.direction+i*this.WANDER_AMM,c(this,u,_).call(this,t),this.speed.x=Math.cos(this.direction)*this.MAX_SPEED,this.speed.y=Math.sin(this.direction)*this.MAX_SPEED},f=new WeakSet,S=function(t,i){let s=this.speed.x,e=this.speed.y,n=this.position.x+4*s,h=this.position.y+4*e;const y=(t.getImageData(n,h,i,i).data.reduce((a,l)=>a+l,0)-255)/(255*i*i*4);s=Math.cos(this.direction+Math.PI/2)*this.MAX_SPEED,e=Math.sin(this.direction+Math.PI/2)*this.MAX_SPEED,n=this.position.x+4*s,h=this.position.y+4*e;const m=(t.getImageData(n,h,i,i).data.reduce((a,l)=>a+l,0)-255)/(255*i*i*4);s=Math.cos(this.direction-Math.PI/2)*this.MAX_SPEED,e=Math.sin(this.direction-Math.PI/2)*this.MAX_SPEED,n=this.position.x+4*s,h=this.position.y+4*e;const g=(t.getImageData(n,h,i,i).data.reduce((a,l)=>a+l,0)-255)/(255*i*i*4);return{topVal:y,leftVal:m,rightVal:g}},u=new WeakSet,_=function(t){const i=c(this,f,S).call(this,t,2),s=Math.PI/2*i.leftVal,e=-(Math.PI/2)*i.rightVal;console.log(i.topVal),this.direction+=(s+e)*(1-i.topVal)*this.SLIME};window.onload=()=>{const o=document.createElement("canvas");o.width=300,o.height=300,o.id="animationScreen",document.body.appendChild(o);const t=o.getContext("2d");t.fillStyle="black",t.fillRect(0,0,window.innerWidth,window.innerHeight);let i=[];for(let e=0;e<10;e++)i.push(new A({x:o.width/2,y:o.height/2}));function s(){t.fillStyle="rgba(0, 0, 0, 0.001)",t.fillRect(0,0,window.innerWidth,window.innerHeight),i.forEach(e=>e.update(t)),requestAnimationFrame(s)}s(),setInterval(()=>{t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,window.innerWidth,window.innerHeight)},500)};
